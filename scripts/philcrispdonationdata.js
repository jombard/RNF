

//Recent donations, recent at the top
var recentDonations = [
	{
		name: "Blair Aitken",
		amount: 10.00,
		giftaid: true,
		date: "06/01/2014",
		comment: ""
	},
	{
		name: "Raymond Gardner",
		amount: 20.00,
		giftaid: true,
		date: "04/01/2014",
		comment: ""
	},
	{
		name: "Sophie Wade",
		amount: 10.00,
		giftaid: true,
		date: "04/01/2014",
		comment: "Great effort Phil & Charles. I'm sure the redness will die down...eventually."
	},
	{
		name: "Laas Natani",
		amount: 10.00,
		giftaid: true,
		date: "04/01/2014",
		comment: ""
	},
	{
		name: "Daniel Pope",
		amount: 10.00,
		giftaid: true,
		date: "03/01/2014",
		comment: ""
	},
	{
		name: "Michael Booth",
		amount: 15.00,
		giftaid: true,
		date: "03/01/2014",
		comment: ""
	},
	{
		name: "Daniel Black",
		amount: 10.00,
		giftaid: false,
		date: "03/01/2014",
		comment: ""
	},
	{
		name: "Thomas Frank",
		amount: 50.00,
		giftaid: true,
		date: "03/01/2014",
		comment: ""
	},
	{
		name: "Wei Tang",
		amount: 10.00,
		giftaid: false,
		date: "03/01/2014",
		comment: ""
	},
	{
		name: "Anna Griffiths",
		amount: 10.00,
		giftaid: true,
		date: "03/01/2014",
		comment: ""
	},
	{
		name: "Rachel Faragher",
		amount: 10.00,
		giftaid: true,
		date: "02/01/2014",
		comment: "Great cause Phil. Good luck! :-0 Xxx"
	},
	{
		name: "Cormac Connolly",
		amount: 10.00,
		giftaid: true,
		date: "02/01/2014",
		comment: ""
	},
	{
		name: "Zena Alston",
		amount: 15.00,
		giftaid: true,
		date: "02/01/2014",
		comment: ""
	},
	{
		name: "Simon Hanna",
		amount: 20.00,
		giftaid: true,
		date: "02/01/2014",
		comment: "Go Phil, I look forward to seeing the more streamline smoother you more in 2015!"
	},
	{
		name: "Thomas Crisp",
		amount: 140.00,
		giftaid: false,
		date: "02/01/2014",
		comment: "Congratulations for getting this far Phil. Proud of you."
	},
	{
		name: "Alison Turnbull",
		amount: 10.00,
		giftaid: true,
		date: "01/01/2015",
		comment: "Helen said it already - but thanks! Amazing total."
	},
	{
		name: "Phil Crisp",
		amount: 125.00,
		giftaid: true,
		date: "31/12/2014",
		comment: ""
	},
	{
		name: "Thomas Fardell",
		amount: 30.00,
		giftaid: true,
		date: "30/12/2014",
		comment: ""
	},
	{
		name: "Gary Boon",
		amount: 40.00,
		giftaid: true,
		date: "30/12/2014",
		comment: ""
	},
	{
		name: "Kate Rosindale",
		amount: 10.00,
		giftaid: true,
		date: "30/12/2014",
		comment: ""
	},
	{
		name: "Tobias Larsen",
		amount: 25.00,
		giftaid: true,
		date: "30/12/2014",
		comment: ""
	},
	{
		name: "Helen Turnbull",
		amount: 10.00,
		giftaid: true,
		date: "30/12/2014",
		comment: "Thank you for joining in the RNF madness. Brilliant fundraising effort."
	},
	{
		name: "Sally Butterworth",
		amount: 10.00,
		giftaid: true,
		date: "30/12/2014",
		comment: ""
	},
	{
		name: "Joanne Hillyer",
		amount: 20.00,
		giftaid: true,
		date: "30/12/2014",
		comment: "Looking forward to NOT seeing the results..!"
	},
	{
		name: "Charles Carolan",
		amount: 100.00,
		giftaid: true,
		date: "29/12/2014",
		comment: ""
	},
	{
		name: "Vicky Simister",
		amount: 20.00,
		giftaid: true,
		date: "29/12/2014",
		comment: ""
	},
	{
		name: "Samuel Clarke",
		amount: 35.00,
		giftaid: true,
		date: "26/12/2014",
		comment: ""
	},
	{
		name: "Laura Fealey",
		amount: 25.00,
		giftaid: true,
		date: "26/12/2014",
		comment: ""
	},
	{
		name: "Katy Chalmers-Stevens",
		amount: 35.00,
		giftaid: true,
		date: "23/12/2014",
		comment: ""
	},
	{
		name: "Martin Buck",
		amount: 30.00,
		giftaid: true,
		date: "22/12/2014",
		comment: ""
	},
	{
		name: "Howard Pettit",
		amount: 15.00,
		giftaid: true,
		date: "22/12/2014",
		comment: ""
	},
	{
		name: "Chris Taylor",
		amount: 20.00,
		giftaid: true,
		date: "22/12/2014",
		comment: ""
	},
	{
		name: "Sarah Fletcher",
		amount: 25.00,
		giftaid: true,
		date: "21/12/2014",
		comment: ""
	},
	{
		name: "Damien Dewildt",
		amount: 100.00,
		giftaid: true,
		date: "21/12/2014",
		comment: "Nice work chaps...as if seeing Phil doing this is not enough, the lure of Charlie squealing his way through a waxing makes it all the more worthwhile!"
	},
	{
		name: "Helen Bower",
		amount: 20.00,
		giftaid: true,
		date: "20/12/2014",
		comment: ""
	},
	{
		name: "Gertruda Fedak",
		amount: 10.00,
		giftaid: false,
		date: "13/12/2014",
		comment: ""
	},
	{
		name: "Shaun Wigley",
		amount: 10.00,
		giftaid: true,
		date: "10/12/2014",
		comment: ""
	},
	{
		name: "Daniel Moloney",
		amount: 50.00,
		giftaid: true,
		date: "10/12/2014",
		comment: "Good luck Phil, that's going to smart!"
	},
	{
		name: "Stefan Dragolov",
		amount: 25.00,
		giftaid: false,
		date: "10/12/2014",
		comment: ""
	},
	{
		name: "Simon Knowles",
		amount: 10.00,
		giftaid: true,
		date: "09/12/2014",
		comment: "Good luck Phil. I'll triple my donation if you wax your head and beard!"
	},
	{
		name: "Thomas Moysey",
		amount: 50.00,
		giftaid: false,
		date: "08/12/2014",
		comment: ""
	},
	{
		name: "Daniel Child",
		amount: 54.90,
		giftaid: false,
		date: "07/12/2014",
		comment: "Target reached! Great cause you're working for....however, Marta was in two minds about it as she's realised this means the beard goes too now! Look forward to seeing you at Christmas buddy."
	},
	{
		name: "Angela Hsiao",
		amount: 30.00,
		giftaid: false,
		date: "07/12/2014",
		comment: ""
	},
	{
		name: "Cat Evans",
		amount: 10.00,
		giftaid: false,
		date: "07/12/2014",
		comment: "I know too well the effects of Dementia and Alzheimer's, and my wife is working towards being a specialist of it too. Well done you."
	},
	{
		name: "Deepa Fernandez",
		amount: 25.00,
		giftaid: false,
		date: "06/12/2014",
		comment: "You know you can get a full body wax these days :) Only teasing. Good luck!!! x"
	},
	{
		name: "Geoffrey Ho",
		amount: 20.00,
		giftaid: false,
		date: "06/12/2014",
		comment: ""
	},
	{
		name: "Simon Deeley",
		amount: 20.00,
		giftaid: false,
		date: "05/12/2014",
		comment: ""
	},
	{
		name: "Giulia Parker",
		amount: 25.00,
		giftaid: false,
		date: "05/12/2014",
		comment: "Good luck Phil- great cause!"
	},
	{
		name: "Aruna Goebells",
		amount: 10.00,
		giftaid: false,
		date: "05/12/2014",
		comment: ""
	},
	{
		name: "Nicola Gray",
		amount: 50.00,
		giftaid: false,
		date: "05/12/2014",
		comment: "Good luck!"
	},
	{
		name: "Frances Kienesberg",
		amount: 100.00,
		giftaid: false,
		date: "04/12/2014",
		comment: ""
	},
	{
		name: "Katie Pate",
		amount: 30.00,
		giftaid: false,
		date: "03/12/2014",
		comment: ""
	},
	{
		name: "Heather Crisp",
		amount: 50.00,
		giftaid: false,
		date: "02/12/2014",
		comment: ""
	},
	{
		name: "Martin Crisp",
		amount: 50.00,
		giftaid: false,
		date: "01/12/2014",
		comment: "Good Luck Cuz,am sure Uncle J will have a snigger. PS - I have no wish to see any before and after shots, however blurry ! Martin"
	},
	{
		name: "Patrick Duffy",
		amount: 100.00,
		giftaid: false,
		date: "30/11/2014",
		comment: ""
	},
	{
		name: "Jon & Laura",
		amount: 20.00,
		giftaid: false,
		date: "30/11/2014",
		comment: "Ouch!"
	},
	{
		name: "Katie Lear",
		amount: 20.00,
		giftaid: false,
		date: "30/11/2014",
		comment: ""
	},
	{
		name: "Simon Cottis",
		amount: 25.00,
		giftaid: false,
		date: "29/11/2014",
		comment: ""
	},
	{
		name: "Ivan Russell",
		amount: 10.00,
		giftaid: false,
		date: "29/11/2014",
		comment: ""
	},
	{
		name: "Beverley Russell",
		amount: 10.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Dale Gowing",
		amount: 5.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Alan McKibbin",
		amount: 20.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Marion Buggins",
		amount: 10.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Nicole`s body art",
		amount: 10.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Oliver Smith",
		amount: 30.10,
		giftaid: false,
		date: "28/11/2014",
		comment: "Wanted to outdo Tobias!"
	},
	{
		name: "Toby Smith",
		amount: 30.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Luisa Porritt",
		amount: 50.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Dan Ellis",
		amount: 10.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Jenny Crisp",
		amount: 100.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Jamie Inshaw",
		amount: 5.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Andrew Koval",
		amount: 50.00,
		giftaid: false,
		date: "28/11/2014",
		comment: ""
	},
	{
		name: "Catherine Roberts",
		amount: 10.00,
		giftaid: false,
		date: "27/11/2014",
		comment: ""
	},
	{
		name: "Sya Groosman",
		amount: 10.00,
		giftaid: false,
		date: "27/11/2014",
		comment: "You can do it! :) x"		
	}
];

//Total money raised - sums amount value from object array
var moneyRaised = 0; 
var giftAid = 0;

for (var i in recentDonations){
	moneyRaised += recentDonations[i].amount;
	if(recentDonations[i].giftaid){
		giftAid += ((recentDonations[i].amount * 25) / 100);
	}
};

//moneyRaised += giftAid;

//Total money goal - updates graph and label
var moneyTotal = moneyRaised; 
var moneyTotal2 = 2000;
var	moneyRaised2 = moneyRaised - moneyTotal;
var moneyRemaining = moneyTotal2 - moneyRaised;

var pieData = [
	{
		value: moneyTotal,
		color: "#7F3F98",
		highlight: "#9E5FB7",
		label: "Raised"
	},
	{
		value: moneyRaised2,
		color: "#00A4E4",
		highlight: "#59C2EB",
		label: "Raised Target 2"
	}/*,
	{
		value: moneyRemaining,
		color: "#EECB04",
		highlight: "#EDD238",
		label: "Remaining"
	}*/
];

window.onload = function(){
	var ctx = document.getElementById("chart-area").getContext("2d");
	window.myPie = new Chart(ctx).Pie(pieData,{
		showTooltips: true,
		animateScale: true
	});
};

document.getElementById('fundsRaised').innerHTML = moneyRaised.toFixed(2);
document.getElementById('fundsTotal').innerHTML = moneyTotal2.toFixed(2);

$(document).ready(function () {

	function listDonations() {
		var newHTML = [];
		for (var i = 0; i < recentDonations.length; i++) {
			newHTML.push('<div class="donationfrom donation' + [i] + '" ">'
	    	+ '<p class="col-xs-6 col-md-6"><strong>' + recentDonations[i].name + '</strong></p>' 
	    	+ '<p class="col-xs-6 col-md-6 donationamount">' + '£' + recentDonations[i].amount.toFixed(2) + '</p>'
	    	+ '<p class="col-xs-12 col-md-12"><strong>'+ recentDonations[i].date +'</strong> '+  recentDonations[i].comment +'</p>' 
	    	+ '<div class="clearfix"></div>'
	    	+ '</div>');
		}
		$(".commentcontainer").html(newHTML.join(""));

	};

	listDonations();

	var hiddenDon = 18;
	$("#unhidedonations").click(function(){
		hiddenDon = recentDonations.length;
		unhideDonations();
		$("#unhidedonations").hide();
	})

	function unhideDonations(){
		for (var j = 0; j < hiddenDon; j++){
			$(".donation" + [j]).fadeIn(500);
		}
	}
	unhideDonations();
	
});